

# PostgreSQL এর কিছু টপিক নিয়ে আলোচনা ।

---

# Primary Key & Foreign Key !

PostgreSQL-এ Primary Key এবং Foreign Key হলো দুটি গুরুত্বপূর্ণ Relational Database Constraint, যেগুলো ডেটাবেসে ডেটা সংরক্ষণের সময় Integrity ও Relationship বজায় রাখতে সাহায্য করে।.

---

## Primary Key

**Primary Key** হলো এমন একটি কলাম বা কলামসমষ্টি যা একটি টেবিলের প্রতিটি রেকর্ডকে **অন্যদের থেকে আলাদা ও স্বতন্ত্রভাবে চিহ্নিত করে**।

###  বৈশিষ্ট্যসমূহ:
- প্রতিটি টেবিলে **মাত্র একটি** Primary Key থাকতে পারে।
- এটি স্বয়ংক্রিয়ভাবে **UNIQUE** এবং **NOT NULL** কনস্ট্রেইন্ট প্রয়োগ করে।
- ডুপ্লিকেট মান গ্রহণ করে না।
- NULL মান গ্রহণ করে না।

### উদাহরণ:
```sql
CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name TEXT
);
````

এখানে `student_id` একটি Primary Key, যা প্রতিটি শিক্ষার্থীকে স্বতন্ত্রভাবে চিহ্নিত করে।

---

##  Foreign Key

### সংজ্ঞা:

**Foreign Key** হলো এমন একটি কলাম বা কলামসমষ্টি যা অন্য একটি টেবিলের Primary Key বা Unique Key-কে **রেফারেন্স করে**, এবং দুইটি টেবিলের মধ্যে **সম্পর্ক (relationship)** তৈরি করে।

###  বৈশিষ্ট্যসমূহ:

* একটি টেবিলে একাধিক Foreign Key থাকতে পারে।
* এটি ডেটার **referential integrity** নিশ্চিত করে।
* এটি নিশ্চিত করে যে যে মান রেফারেন্স করা হয়েছে, তা মূল টেবিলে (parent table) বিদ্যমান আছে।
* বিভিন্ন action নির্ধারণ করা যায়:
  `ON DELETE CASCADE`, `ON UPDATE CASCADE` ইত্যাদি।

### উদাহরণ:

```sql
CREATE TABLE courses (
  course_id SERIAL PRIMARY KEY,
  course_name TEXT
);

CREATE TABLE enrollments (
  enrollment_id SERIAL PRIMARY KEY,
  student_id INT,
  course_id INT,
  FOREIGN KEY (course_id) REFERENCES courses(course_id)
);
```

এখানে `enrollments` টেবিলের `course_id` কলামটি `courses` টেবিলের `course_id`-কে রেফারেন্স করছে। অর্থাৎ, একজন শিক্ষার্থী কেবলমাত্র সেই কোর্সে রেজিস্টার করতে পারবে, যা আগে থেকেই `courses` টেবিলে আছে।

---

## তুলনামূলক পার্থক্য (Primary Key vs Foreign Key)

| বৈশিষ্ট্য         | Primary Key                  | Foreign Key                       |
| ----------------- | ---------------------------- | --------------------------------- |
| উদ্দেশ্য          | টেবিলের রেকর্ড আলাদা করা     | অন্য টেবিলের রেকর্ড রেফারেন্স করা |
| ইউনিক মান         | হ্যাঁ                        | না (ডুপ্লিকেট থাকতে পারে)         |
| NULL গ্রহণযোগ্যতা | না (NOT NULL)                | হ্যাঁ (NULL থাকতে পারে)           |
| সংখ্যা            | প্রতি টেবিলে একটি            | একাধিক থাকতে পারে                 |
| Integrity         | Entity Integrity নিশ্চিত করে | Referential Integrity নিশ্চিত করে |

---

##  উপসংহার:

* **Primary Key** ব্যবহৃত হয় প্রতিটি রেকর্ডকে ইউনিকভাবে শনাক্ত করতে।
* **Foreign Key** ব্যবহৃত হয় বিভিন্ন টেবিলের মধ্যে সম্পর্ক তৈরি ও ডেটার সঠিকতা বজায় রাখতে।

---

...


# VARCHAR এবং CHAR ডেটা টাইপের পার্থক্য  !

ডেটাবেস ডিজাইনে `VARCHAR` এবং `CHAR` দুটি কমন স্ট্রিং ডেটা টাইপ, যেগুলো টেক্সট ডেটা সংরক্ষণ করতে ব্যবহৃত হয়। তবে এই দুইটির মধ্যে কিছু গুরুত্বপূর্ণ পার্থক্য রয়েছে।

---

## CHAR (Character)

###  সংজ্ঞা:

`CHAR(n)` একটি **Fixed-Length (স্থির দৈর্ঘ্যের)** ডেটা টাইপ। যেখানে `n` হল ক্যারেক্টার সংখ্যা।

###  বৈশিষ্ট্য:

* সর্বদা নির্দিষ্ট সংখ্যক ক্যারেক্টার সংরক্ষণ করে।
* যদি ইনপুট ডেটা `n` ক্যারেক্টারের কম হয়, তাহলে অবশিষ্ট অংশ **space দিয়ে পূরণ** করে।
* পারফরম্যান্সের জন্য ভাল যখন ডেটার দৈর্ঘ্য সবসময় একই হয়।

###  উদাহরণ:

```sql
CHAR(10)
```

* যদি ডেটা হয় `'Cat'`, তাহলে এটি হয়ে যাবে `'Cat       '` (শেষে ৭টি স্পেস যোগ হবে)।

---

##  VARCHAR (Variable Character)

###  সংজ্ঞা:

`VARCHAR(n)` একটি **Variable-Length (পরিবর্তনশীল দৈর্ঘ্যের)** ডেটা টাইপ। যেখানে `n` হল সর্বোচ্চ ক্যারেক্টারের সংখ্যা।

###  বৈশিষ্ট্য:

* ডেটার দৈর্ঘ্য অনুযায়ী জায়গা ব্যবহার করে।
* কোন অতিরিক্ত স্পেস যোগ করে না।
* স্টোরেজের দিক থেকে কার্যকর যখন ডেটার দৈর্ঘ্য পরিবর্তনশীল হয়।

###  উদাহরণ:

```sql
VARCHAR(10)
```

* যদি ডেটা হয় `'Cat'`, তাহলে এটি কেবলমাত্র ৩টি ক্যারেক্টারই সংরক্ষণ করবে — `'Cat'`।

---

##  তুলনামূলক টেবিল

| বৈশিষ্ট্য           | CHAR                        | VARCHAR                          |
| ------------------- | --------------------------- | -------------------------------- |
| দৈর্ঘ্য             | স্থির (Fixed)               | পরিবর্তনশীল (Variable)           |
| জায়গা দখল           | সর্বদা নির্দিষ্ট পরিমাণ     | ইনপুট ডেটার পরিমাণ অনুযায়ী       |
| অতিরিক্ত স্পেস      | হ্যাঁ (padding with spaces) | না                               |
| পারফরম্যান্স        | দ্রুত (short, fixed-length) | তুলনামূলকভাবে ধীর (variable)     |
| ব্যবহারের উপযুক্ততা | একই দৈর্ঘ্যের ডেটার জন্য    | পরিবর্তনশীল দৈর্ঘ্যের ডেটার জন্য |

---

##  কখন কোনটা ব্যবহার করবেন?

| পরিস্থিতি                                | ব্যবহারযোগ্য টাইপ |
| ---------------------------------------- | ----------------- |
| জাতীয় পরিচয় নম্বর, পিন কোড, ফিক্সড লেন্থ | `CHAR`            |
| ইউজার নেম, ইমেইল, ঠিকানা ইত্যাদি         | `VARCHAR`         |

---

##  সংক্ষেপে:

* `CHAR` = নির্দিষ্ট দৈর্ঘ্য, স্পেস দিয়ে পূরণ করে।
* `VARCHAR` = পরিবর্তনশীল দৈর্ঘ্য, যতটুকু ইনপুট ততটুকুই সংরক্ষণ ।

---


...
# 5 :  SQL `WHERE` ক্লজের উদ্দেশ্য ও ব্যবহার

`WHERE` ক্লজ SQL-এ একটি গুরুত্বপূর্ণ অংশ যা ডেটাবেজ থেকে **নির্দিষ্ট শর্ত পূরণকারী** রেকর্ডগুলো **ফিল্টার** করে বের করার জন্য ব্যবহৃত হয়।

---

##  উদ্দেশ্য (Purpose)

`SELECT` স্টেটমেন্টে `WHERE` ক্লজ ব্যবহার করা হয় যখন তুমি ডেটাবেজ থেকে সব ডেটা না নিয়ে, কেবলমাত্র **নির্দিষ্ট কিছু শর্ত মেনে চলে এমন রেকর্ডগুলো** দেখতে চাও।

 অর্থাৎ, `WHERE` ক্লজ ডেটা **ফিল্টার** করতে সাহায্য করে।

---

##  গঠন (Syntax)

```sql
SELECT column1, column2, ...
FROM table_name
WHERE condition;
```

---

##  উদাহরণ সহ ব্যাখ্যা

ধরি, তোমার একটি `students` নামের টেবিল আছে, যেটিতে নিচের মতো ডেটা আছে:

| id | name  | department | cgpa |
| -- | ----- | ---------- | ---- |
| 1  | Alice | CSE        | 3.90 |
| 2  | Bob   | EEE        | 3.40 |
| 3  | Rafi  | CSE        | 2.80 |
| 4  | Tania | BBA        | 3.20 |

---

###  ১. CSE বিভাগের শিক্ষার্থীদের দেখতে চাই:

```sql
SELECT * FROM students
WHERE department = 'CSE';
```

 আউটপুটঃ

| id | name  | department | cgpa |
| -- | ----- | ---------- | ---- |
| 1  | Alice | CSE        | 3.90 |
| 3  | Rafi  | CSE        | 2.80 |

---

###  ২. যেসব শিক্ষার্থীর CGPA ৩.৫০ এর বেশি:

```sql
SELECT * FROM students
WHERE cgpa > 3.5;
```

আউটপুটঃ

| id | name  | department | cgpa |
| -- | ----- | ---------- | ---- |
| 1  | Alice | CSE        | 3.90 |

---

###  ৩. EEE অথবা BBA বিভাগের শিক্ষার্থী খুঁজে বের করা:

```sql
SELECT * FROM students
WHERE department = 'EEE' OR department = 'BBA';
```

 আউটপুটঃ

| id | name  | department | cgpa |
| -- | ----- | ---------- | ---- |
| 2  | Bob   | EEE        | 3.40 |
| 4  | Tania | BBA        | 3.20 |

---

###  ৪. CGPA ৩.০০ বা তার বেশি এবং বিভাগ CSE:

```sql
SELECT * FROM students
WHERE cgpa >= 3.00 AND department = 'CSE';
```

 আউটপুটঃ

| id | name  | department | cgpa |
| -- | ----- | ---------- | ---- |
| 1  | Alice | CSE        | 3.90 |

---

##  `WHERE` ক্লজে ব্যবহারযোগ্য অপারেটর:

| অপারেটর            | কাজ                               |
| ------------------ | --------------------------------- |
| `=`                | সমান                              |
| `!=` বা `<>`       | সমান নয়                           |
| `>`                | বড়                                |
| `<`                | ছোট                               |
| `>=`               | বড় অথবা সমান                      |
| `<=`               | ছোট অথবা সমান                     |
| `BETWEEN`          | একটি রেঞ্জের মধ্যে                |
| `IN`               | নির্দিষ্ট মানগুলোর মধ্যে আছে কিনা |
| `LIKE`             | প্যাটার্ন অনুযায়ী মিল             |
| `IS NULL`          | null মান আছে কিনা                 |
| `AND`, `OR`, `NOT` | লজিক্যাল অপারেটর                  |

---

##  সংক্ষেপে বললে:

| বিষয়           | ব্যাখ্যা                                   |
| -------------- | ------------------------------------------ |
| কাজ            | ডেটা ফিল্টার করা                           |
| কোথায় ব্যবহৃত  | `SELECT`, `UPDATE`, `DELETE` স্টেটমেন্টে   |
| কিভাবে কাজ করে | নির্দিষ্ট শর্ত অনুসারে রেকর্ড নির্বাচন করে |

---


...



#  `LIMIT` এবং `OFFSET` ক্লজের ব্যবহার

`LIMIT` এবং `OFFSET` ক্লজ মূলত **pagination** (পাতায় ভাগ করে ডেটা দেখানো) বা **নির্দিষ্ট পরিমাণ ডেটা দেখানোর জন্য** ব্যবহৃত হয়।

---

##  LIMIT ক্লজের কাজ

`LIMIT` ক্লজ ব্যবহার করে **কতগুলো রেকর্ড রিটার্ন করা হবে** তা নির্ধারণ করা হয়।

###  Syntax:

```sql
SELECT column1, column2, ...
FROM table_name
LIMIT number;
```

###  উদাহরণ:

```sql
SELECT * FROM students
LIMIT 5;
```

 এই কোয়েরিটি `students` টেবিল থেকে **শুধু প্রথম ৫টি রেকর্ড** রিটার্ন করবে।

---

##  OFFSET ক্লজের কাজ

`OFFSET` ক্লজ ব্যবহার করে **ডেটার কোন পজিশন (index) থেকে শুরু করে রেকর্ড রিটার্ন করতে হবে** তা নির্ধারণ করা হয়।

###  Syntax:

```sql
SELECT column1, column2, ...
FROM table_name
LIMIT number OFFSET start;
```

###  উদাহরণ:

```sql
SELECT * FROM students
LIMIT 5 OFFSET 10;
```

 এই কোয়েরিটি `students` টেবিল থেকে **১১ নম্বর রেকর্ড থেকে শুরু করে ৫টি রেকর্ড** দেখাবে (index 0 থেকে শুরু হয়)।

---

##  LIMIT + OFFSET = Pagination

ধরা যাক, প্রতি পেজে ৫টি রেকর্ড দেখাতে চাও। তাহলে পেজ অনুযায়ী কোয়েরি হবে:

| Page | OFFSET | LIMIT |
| ---- | ------ | ----- |
| 1    | 0      | 5     |
| 2    | 5      | 5     |
| 3    | 10     | 5     |

```sql
-- পেজ ১
SELECT * FROM students LIMIT 5 OFFSET 0;

-- পেজ ২
SELECT * FROM students LIMIT 5 OFFSET 5;

-- পেজ ৩
SELECT * FROM students LIMIT 5 OFFSET 10;
```

---

##  সংক্ষেপে:

| ক্লজ     | উদ্দেশ্য                       |
| -------- | ------------------------------ |
| `LIMIT`  | কতগুলো রেকর্ড রিটার্ন করতে হবে |
| `OFFSET` | কত নম্বর রেকর্ড থেকে শুরু করবে |

---

##  ব্যবহার ক্ষেত্র:

* Pagination system (যেমনঃ ওয়েবসাইটে প্রতিপৃষ্ঠায় ১০টি পোস্ট)
* Load More অপশন
* ডেটার অংশবিশেষ দেখতে (test/debug করার সময়)

---
...

#  SQL `UPDATE` স্টেটমেন্ট দিয়ে ডেটা পরিবর্তন করা

---

##  উদ্দেশ্য:

`UPDATE` স্টেটমেন্টের মাধ্যমে টেবিলের একটি বা একাধিক রেকর্ডের **নির্দিষ্ট কলামের মান পরিবর্তন** করা যায়।

---

##  গঠন (Syntax):

```sql
UPDATE table_name
SET column1 = value1, column2 = value2, ...
WHERE condition;
```

>  **`WHERE` ক্লজ খুব গুরুত্বপূর্ণ!** এটা ব্যবহার না করলে টেবিলের **সব রেকর্ড আপডেট হয়ে যাবে।**

---

##  উদাহরণ সহ ব্যাখ্যা

ধরি, তোমার একটি টেবিল আছে `students` নামে:

| id | name  | cgpa |
| -- | ----- | ---- |
| 1  | Alice | 3.50 |
| 2  | Bob   | 2.90 |
| 3  | Rafi  | 3.20 |

---

###  ১. একটি নির্দিষ্ট ছাত্রের CGPA আপডেট করা

```sql
UPDATE students
SET cgpa = 3.80
WHERE id = 2;
```

 `id` ২ (Bob)-এর `cgpa` এখন ৩.৮০ হয়ে যাবে।

---

###  ২. নাম ও CGPA একসাথে আপডেট করা

```sql
UPDATE students
SET name = 'Robert', cgpa = 3.60
WHERE id = 2;
```

 Bob-এর নাম এখন Robert এবং CGPA হবে ৩.৬০।

---

###  ৩. যেসব ছাত্রের CGPA ৩.০০ এর নিচে, তাদের CGPA বাড়িয়ে ৩.২৫ করা

```sql
UPDATE students
SET cgpa = 3.25
WHERE cgpa < 3.00;
```

 সব কম CGPA ওয়ালা ছাত্রের স্কোর এখন ৩.২৫ করা হবে।

---

##  সতর্কতা: `WHERE` না দিলে কী হয়?

```sql
UPDATE students
SET cgpa = 4.00;
```

 এই কোয়েরি **সকল ছাত্রের CGPA ৪.০০ করে দেবে**, কারণ এখানে `WHERE` ক্লজ ব্যবহার করা হয়নি।

---

##  সাধারণভাবে ব্যবহৃত ক্ষেত্র:

* ইউজারের প্রোফাইল আপডেট
* অর্ডারের স্ট্যাটাস পরিবর্তন
* পেমেন্ট আপডেট
* ডেটা ফিক্স করা (error correction)

---

##  সংক্ষেপে:

| বিষয়             | ব্যাখ্যা                                                     |
| ---------------- | ------------------------------------------------------------ |
| কাজ              | বিদ্যমান রেকর্ডের তথ্য পরিবর্তন                              |
| গুরুত্বপূর্ণ অংশ | `SET` এবং `WHERE`                                            |
| ঝুঁকি            | `WHERE` ক্লজ ছাড়া ব্যবহার করলে সব রেকর্ড আপডেট হয়ে যেতে পারে |

---
